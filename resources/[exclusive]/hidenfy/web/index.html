<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>011RP Music Player</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos espec√≠ficos do Mini Player */
        .mini-player {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 280px;
            height: 80px;
            background: #000;
            z-index: 10000;
            opacity: 0;
            transform: translateY(-100px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            user-select: none;
        }

        .mini-player.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .mini-player.dj-mode {
            border: 2px solid #47ff8d;
            box-shadow: 0 8px 32px rgba(71, 255, 163, 0.3);
        }

        .mini-player-content {
            display: flex;
            align-items: center;
            height: 100%;
            padding: 12px 16px;
            gap: 12px;
            position: relative;
            z-index: 2;
        }

        .mini-artwork {
            width: 56px;
            height: 56px;
            border-radius: 8px;
            overflow: hidden;
            flex-shrink: 0;
            position: relative;
        }

        .mini-artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.3s ease;
        }

        .mini-info {
            flex: 1;
            overflow: hidden;
            min-width: 0;
        }

        .mini-title {
            color: #fff;
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 4px;
            line-height: 1.2;
        }

        .mini-artist {
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.2;
        }

        .mini-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .mini-control-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .mini-control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            transform: scale(1.1);
        }

        .mini-control-btn.play {
            background: #1db954;
            color: #000;
            width: 36px;
            height: 36px;
        }

        .mini-control-btn.play:hover {
            background: #1ed760;
            transform: scale(1.05);
        }

        .mini-control-btn svg {
            width: 16px;
            height: 16px;
        }

        .mini-control-btn.play svg {
            width: 18px;
            height: 18px;
        }

        .mini-dj-indicator {
            position: absolute;
            top: -8px;
            left: 12px;
            background: linear-gradient(135deg, #9147ff, #7b2cbf);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            display: none;
            z-index: 3;
            box-shadow: 0 2px 8px rgba(145, 71, 255, 0.3);
        }

        .mini-player.dj-mode .mini-dj-indicator {
            display: block;
        }

        .mini-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            overflow: hidden;
            border-radius: 0 0 16px 16px;
        }

        .mini-progress-fill {
            height: 100%;
            background: #1db954;
            width: 0%;
            transition: width 0.1s linear;
        }

        .mini-player.dj-mode .mini-progress-fill {
            background: linear-gradient(90deg, #9147ff, #7b2cbf);
        }

        .mini-player.playing .mini-artwork {
            animation: djArtworkPulse 2s infinite;
        }

        @keyframes djArtworkPulse {
            0%, 100% { 
                box-shadow: 0 0 0 0 rgba(145, 71, 255, 0.4); 
            }
            50% { 
                box-shadow: 0 0 0 8px rgba(145, 71, 255, 0); 
            }
        }

        .mini-player:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }

        .mini-player.dj-mode:hover {
            box-shadow: 0 12px 40px rgba(145, 71, 255, 0.4);
        }

        /* Responsividade */
        @media (max-width: 768px) {
            .mini-player {
                width: 260px;
                height: 72px;
                top: 10px;
                right: 10px;
            }

            .mini-player-content {
                padding: 10px 12px;
                gap: 10px;
            }

            .mini-artwork {
                width: 48px;
                height: 48px;
            }

            .mini-title {
                font-size: 13px;
            }

            .mini-artist {
                font-size: 11px;
            }

            .mini-control-btn {
                width: 28px;
                height: 28px;
            }

            .mini-control-btn.play {
                width: 32px;
                height: 32px;
            }
        }

        .dj-title {
            display: none !important;
        }
        .dj-station {
            display: none !important;
        }
        .dj-icon {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Mini Player -->
    <div id="mini-player" class="mini-player">
        <div class="mini-dj-indicator">üéß DJ</div>
        
        <div class="mini-player-content">
            <div class="mini-artwork">
                <img id="mini-artwork-img" src="https://i.ibb.co/XghQBGw/unknown.png" alt="Now playing" onerror="this.src='https://i.ibb.co/XghQBGw/unknown.png'">
            </div>

            <div class="mini-info">
                <div id="mini-title" class="mini-title">011RP Music</div>
                <div id="mini-artist" class="mini-artist">Toque uma m√∫sica para come√ßar</div>
            </div>

            <div class="mini-controls">
                <button id="mini-prev" class="mini-control-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="19 20 9 12 19 4 19 20"></polygon>
                        <line x1="5" y1="19" x2="5" y2="5"></line>
                    </svg>
                </button>

                <button id="mini-play-pause" class="mini-control-btn play">
                    <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                        <polygon points="5 3 19 12 5 21 5 3"></polygon>
                    </svg>
                    <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                        <rect x="6" y="4" width="4" height="16"></rect>
                        <rect x="14" y="4" width="4" height="16"></rect>
                    </svg>
                </button>

                <button id="mini-next" class="mini-control-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polygon points="5 4 15 12 5 20 5 4"></polygon>
                        <line x1="19" y1="5" x2="19" y2="19"></line>
                    </svg>
                </button>
            </div>
        </div>

        <div class="mini-progress">
            <div id="mini-progress-fill" class="mini-progress-fill"></div>
        </div>
    </div>

    <!-- UI Principal -->
    <div id="app">
        <div class="background-blur"></div>
        <div class="background-gradient"></div>
        
        <div id="youtube-player"></div>
        
        <!-- Header com √°rea de arrastar -->
        <div class="drag-header">
            <div class="profile">
                <div class="profile-pic-container">
                    <img src="https://i.ibb.co/XghQBGw/unknown.png" alt="Profile" class="profile-pic">
                    <div class="profile-status"></div>
                </div>
                <div class="profile-info">
                    <span class="profile-name" id="player-name">Foxzin</span>
                    <span class="profile-status-text">Online</span>
                </div>
            </div>
            <div class="header-banner">
                <img src="https://i.ibb.co/XghQBGw/unknown.png" alt="Logo">
            </div>
            <div class="window-controls">
  
                <button class="close-btn">√ó</button>
            </div>
        </div>
        
        <!-- Search Bar -->
        <div class="search-section">
            <div class="search-bar">
                <div class="search-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <input type="text" placeholder="Pesquisar m√∫sica, artista ou playlist">
                <div class="search-clear">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- Tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="musicas">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 18V5l12 13V5M1 5v14l4-4h4"/>
                </svg>
                <span>M√∫sicas</span>
            </button>
            <button class="tab" data-tab="favoritos">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>Playlists</span>
            </button>
            <button class="tab" data-tab="curtidas">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                </svg>
                <span>Favoritos</span>
            </button>
        </nav>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <div class="grid">
                <!-- √Årea de conte√∫do din√¢mico -->
                <div class="loading-state">
                    <div class="spinner"></div>
                    <p>Carregando m√∫sicas...</p>
                </div>
            </div>
        </div>
        
        <!-- Player Bar -->
        <div class="player-bar">
            <div class="now-playing">
                <div class="now-playing-artwork">
                    <img class="now-playing-thumbnail" src="https://i.ibb.co/XghQBGw/unknown.png" alt="Now playing" onerror="this.src='https://i.ibb.co/XghQBGw/unknown.png'">
                </div>
                <div class="now-playing-info">
                    <span class="now-playing-title">011RP Music</span>
                    <span class="now-playing-artist">Toque uma m√∫sica para come√ßar</span>
                </div>
                <div class="now-playing-actions">
                    <button class="favorite">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                        </svg>
                    </button>
                    <button class="add-to-playlist">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-bar">
                <span class="time current">0:00</span>
                <div class="progress">
                    <div class="progress-filled"></div>
                    <div class="progress-handle"></div>
                </div>
                <span class="time total">0:00</span>
            </div>
            
            <!-- Controls -->
            <div class="controls-row">
                <div class="control-buttons">
                    <button class="shuffle-btn control-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="16 3 21 3 21 8"></polyline>
                            <line x1="4" y1="20" x2="21" y2="3"></line>
                            <polyline points="21 16 21 21 16 21"></polyline>
                            <line x1="15" y1="15" x2="21" y2="21"></line>
                            <line x1="4" y1="4" x2="9" y2="9"></line>
                        </svg>
                    </button>
                    <button id="previous" class="control-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="19 20 9 12 19 4 19 20"></polygon>
                            <line x1="5" y1="19" x2="5" y2="5"></line>
                        </svg>
                    </button>
                    <button id="play-pause" class="control-btn play">
                        <svg class="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <polygon points="5 3 19 12 5 21 5 3"></polygon>
                        </svg>
                        <svg class="pause-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                    </button>
                    <button id="next" class="control-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="5 4 15 12 5 20 5 4"></polygon>
                            <line x1="19" y1="5" x2="19" y2="19"></line>
                        </svg>
                    </button>
                    <button class="repeat-btn control-btn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="17 1 21 5 17 9"></polyline>
                            <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                            <polyline points="7 23 3 19 7 15"></polyline>
                            <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="secondary-controls">
                    <button class="bluetooth-btn">
                        <span class="icon-svg">
                            <svg xmlns="http://www.w3.org/2000/svg" class="bluetooth-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="6.5 6.5 17.5 17.5 12 23 12 1 17.5 6.5 6.5 17.5"></polyline>
                            </svg>
                        </span>
                    </button>
                    
                    <div class="volume-control">
                        <button class="volume-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                                <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                            </svg>
                        </button>
                        <div class="volume-slider-container">
                            <input type="range" class="volume-slider" min="0" max="100" value="100">
                        </div>
                    </div>
                    
                    <button class="queue-btn">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="8" y1="6" x2="21" y2="6"></line>
                            <line x1="8" y1="12" x2="21" y2="12"></line>
                            <line x1="8" y1="18" x2="21" y2="18"></line>
                            <line x1="3" y1="6" x2="3.01" y2="6"></line>
                            <line x1="3" y1="12" x2="3.01" y2="12"></line>
                            <line x1="3" y1="18" x2="3.01" y2="18"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Expanded Player Overlay -->
        <div id="expanded-player" class="expanded-player">
            <!-- V√≠deo ambiente em tela cheia no fundo -->
            <div class="ep-background">
                <div id="ep-ambient"></div>
                <div class="ep-overlay"></div>
            </div>
            <div class="ep-header">
                <button id="ep-close" class="ep-close" aria-label="Fechar player">‚ñº</button>
            </div>
            <div class="ep-content">
                <div class="ep-artwork-wrap">
                    <img id="ep-artwork" class="ep-artwork" src="https://i.ibb.co/XghQBGw/unknown.png" alt="Capa da m√∫sica" onerror="this.src='https://i.ibb.co/XghQBGw/unknown.png'">
                    <div class="ep-artwork-overlay">
                        <div class="ep-info">
                            <div id="ep-title" class="ep-title">011RP Music</div>
                            <div id="ep-artist" class="ep-artist">Toque uma m√∫sica para come√ßar</div>
                        </div>
                    </div>
                </div>
            </div><!-- fim ep-content -->
            <!-- Rodap√©: tudo abaixo, v√≠deo totalmente livre -->
            <div class="ep-footer">
                <div class="ep-footer-inner">
                    <div class="ep-progress">
                        <span id="ep-current" class="ep-time">0:00</span>
                        <input id="ep-slider" class="ep-slider" type="range" min="0" max="100" value="0" step="0.1" />
                        <span id="ep-total" class="ep-time">0:00</span>
                    </div>
                    <div class="ep-controls">
                        <button id="ep-prev" class="ep-btn" aria-label="Anterior">
                            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor"><polygon points="19 20 9 12 19 4 19 20"></polygon><line x1="5" y1="19" x2="5" y2="5" stroke="currentColor" stroke-width="2"></line></svg>
                        </button>
                        <button id="ep-play" class="ep-btn ep-play" aria-label="Play/Pause">
                            <svg class="ep-play-icon" viewBox="0 0 24 24" width="36" height="36" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                            <svg class="ep-pause-icon" viewBox="0 0 24 24" width="36" height="36" fill="currentColor" style="display:none"><rect x="6" y="4" width="4" height="16"></rect><rect x="14" y="4" width="4" height="16"></rect></svg>
                        </button>
                        <button id="ep-next" class="ep-btn" aria-label="Pr√≥ximo">
                            <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor"><polygon points="5 4 15 12 5 20 5 4"></polygon><line x1="19" y1="5" x2="19" y2="19" stroke="currentColor" stroke-width="2"></line></svg>
                        </button>
                    </div>
                    <div class="ep-actions">
                        <button id="ep-favorite" class="ep-action-btn ep-favorite" aria-label="Curtir">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                        </button>
                        <button id="ep-add" class="ep-action-btn ep-add-to-playlist" aria-label="Adicionar √† Playlist">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                        </button>
                    </div>
                    <div class="ep-volume">
                        <span class="ep-volume-label">Volume</span>
                        <input class="ep-volume-slider" type="range" min="0" max="100" value="50" step="1" />
                        <span class="ep-volume-value">50%</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- DJ Mode Indicator -->
        <div class="dj-mode-indicator" style="display: none;">
            <div class="dj-icon">üéß</div>
            <div class="dj-text">
                <div class="dj-title">Modo DJ Ativo</div>
                <div class="dj-station">Nome da Esta√ß√£o</div>
            </div>
        </div>
    </div>
    
    <!-- Modais -->
    <div id="playlist-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Adicionar √† Playlist</h3>
                <button class="close-modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="playlists-container">
                    <div class="playlists-list"></div>
                </div>
                <div class="new-playlist-form">
                    <input type="text" id="new-playlist-name" placeholder="Nome da nova playlist">
                    <button id="create-playlist-btn">Criar Nova Playlist</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="drag.js"></script>
    <script src="script.js"></script>
    
    <script>
        // Script do Mini Player integrado
        console.log('üéµ Inicializando Mini Player...')
        
        // Aguardar carregamento completo
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üì± DOM carregado, configurando mini player...')
            
            const miniPlayer = document.getElementById('mini-player')
            const miniPlayPause = document.getElementById('mini-play-pause')
            const miniPrev = document.getElementById('mini-prev')
            const miniNext = document.getElementById('mini-next')
            
            if (!miniPlayer) {
                console.error('‚ùå Mini player n√£o encontrado!')
                return
            }
            
            console.log('‚úÖ Mini player encontrado, configurando eventos...')
            
            // Fun√ß√£o para obter nome do resource
            function getResourceName() {
                if (typeof window.GetParentResourceName === 'function') {
                    return window.GetParentResourceName()
                }
                return 'foxzinlafy'
            }
            
            // Eventos dos bot√µes
            if (miniPlayPause) {
                miniPlayPause.addEventListener('click', function(e) {
                    e.stopPropagation()
                    console.log('üéµ Mini player: Play/Pause clicado')
                    
                    fetch(`https://${getResourceName()}/miniPlayerAction`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ action: 'playPause' })
                    }).catch(console.error)
                })
            }
            
            if (miniPrev) {
                miniPrev.addEventListener('click', function(e) {
                    e.stopPropagation()
                    console.log('üéµ Mini player: Previous clicado')
                    
                    fetch(`https://${getResourceName()}/miniPlayerAction`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ action: 'previous' })
                    }).catch(console.error)
                })
            }
            
            if (miniNext) {
                miniNext.addEventListener('click', function(e) {
                    e.stopPropagation()
                    console.log('üéµ Mini player: Next clicado')
                    
                    fetch(`https://${getResourceName()}/miniPlayerAction`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ action: 'next' })
                    }).catch(console.error)
                })
            }
            
            // Clique no mini player para abrir UI principal
            miniPlayer.addEventListener('click', function(e) {
                if (e.target.closest('.mini-controls')) return
                
                console.log('üéµ Mini player: Abrindo UI principal')
                
                fetch(`https://${getResourceName()}/openMainUI`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({})
                }).catch(console.error)
            })
            
            console.log('‚úÖ Mini player configurado com sucesso!')
            
            // Fun√ß√£o de teste
            window.testMiniPlayer = function() {
                console.log('üß™ Testando mini player...')
                miniPlayer.classList.add('visible')
                miniPlayer.classList.add('playing')
                document.getElementById('mini-title').textContent = 'Teste - Rick Astley'
                document.getElementById('mini-artist').textContent = 'Never Gonna Give You Up'
                console.log('‚úÖ Mini player teste ativado!')
            }
            
            // Comando de debug
            window.debugMiniPlayer = function() {
                console.log('=== MINI PLAYER DEBUG ===')
                console.log('Element:', miniPlayer)
                console.log('Visible:', miniPlayer.classList.contains('visible'))
                console.log('DJ Mode:', miniPlayer.classList.contains('dj-mode'))
                console.log('Playing:', miniPlayer.classList.contains('playing'))
                console.log('Title:', document.getElementById('mini-title').textContent)
                console.log('Artist:', document.getElementById('mini-artist').textContent)
                console.log('========================')
            }

            // Esconder mini player por padr√£o
            setTimeout(() => {
                miniPlayer.style.display = 'block'
                console.log('üì± Mini player inicializado e pronto!')
            }, 1000)
        })
    </script>
</body>
</html>
